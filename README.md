# Вебсервис на Django REST framework
Данный вебсервис на `Python3` может:
* показать все варианты перелетов для выбранного маршрута
* получить самый дорогой/дешевый, быстрый/долгий и оптимальный варианты
* показать отличия между результатами двух запросов

Обратите внимание, что данные читаются и парсятся из XML файлов. В "боевом" режиме предполагается, что вместо чтения из файлов будут отправляться запросы на сторонний сервер, который выдает нам данные также в формате XML.

## Установка
1. Создайте копию данного удаленного репозитория на своем устройстве. В примере ниже клонирование происходит в папку `flights`, но вы можете выбрать любое другое имя
```bash
git clone https://github.com/andrepopoff/flights flights
```
2. Переместитесь в директорию `flights`:
```bash
cd flights
```
3. Создайте виртуальное окружение и активируйте его:
```bash
virtualenv venv
source venv/bin/activate
```
4. Установите зависимости
```bash
pip install -r requirements.txt
```
5. Переместитесь в директорию `aviatickets`:
```bash
cd aviatickets
```
6. Запустите Django сервер:
```bash
python manage.py runserver
```
Всё готово к работе!

## Список методов
По умолчанию, сервер запускается по адресу http://127.0.0.1:8000/
Там будет стартовая страница, которую мы напишем позже.
* Метод `flights.getAll`
Возвращает json-объект со всеми вариантами перелета из DXB в BKK.
По умолчанию, метод обрабатывает запрос, где есть обратные маршруты (в нашем случае, один из файлов XML).
Если вызвать метод вместе с параметром `return=0`, то мы получим json-объект без обратных маршрутов (в нашем случае, данные будут спарсены из другого XML файла, в котором нет обратных маршрутов)
По умолчанию, параметр `return=1`, что идентично вызову метода без параметров.
Если вызвать метод с параметром `return` не равным 1 или 0, придет ошибка (json-объект с ключом `error`)
Пример вызова метода с параметром `return`:
```bash
http http://127.0.0.1:8000/flights.getAll?return=0
```
